{"version":3,"sources":["../src/ui-config.js"],"names":["join","paths","x","filter","p","match","replace","reload","data","ui","basePath","apiPath","fullPath","path","fullApiPath","module","exports","config"],"mappings":"AAAA;;AAEA;;AAEA,SAASA,IAAT,CAAcC,KAAd,EAAqB;AACnB,MAAMC,IAAID,MAAME,MAAN,CAAa;AAAA,WAAKC,CAAL;AAAA,GAAb,EAAqBJ,IAArB,CAA0B,GAA1B,CAAV;;AAEA,MAAIC,MAAM,CAAN,MAAa,GAAb,IAAoBC,MAAM,GAA9B,EAAmC;AACjC;AACA,WAAO,EAAP;AACD;;AAED,SAAOA,EAAEG,KAAF,CAAQ,OAAR,EAAiB;AAAjB,IACH,GADG,GAEHH,EAAEI,OAAF,CAAU,MAAV,EAAkB,GAAlB,EAAuBA,OAAvB,CAA+B,KAA/B,EAAsC,EAAtC,CAFJ,CARmB,CAU4B;AAChD;;AAED,SAASC,MAAT,CAAgBC,IAAhB,EAAsB;AACpBA,SAAOA,QAAQ,EAAf;AACA,MAAMC,KAAKD,KAAKC,EAAL,IAAW,EAAtB;AACA,MAAMC,WAAWD,GAAGC,QAAH,IAAe,EAAhC;AACA,MAAMC,UAAUF,GAAGE,OAAH,IAAc,MAA9B;AACA,OAAKF,EAAL,GAAUA,EAAV;AACA,OAAKG,QAAL,GAAgB;AAAA,WAAQZ,KAAK,CAACU,QAAD,EAAWG,IAAX,CAAL,CAAR;AAAA,GAAhB;AACA,OAAKC,WAAL,GAAmB;AAAA,WAAQd,KAAK,CAACU,QAAD,EAAWC,OAAX,EAAoBE,IAApB,CAAL,CAAR;AAAA,GAAnB;AACD;;AAEDE,OAAOC,OAAP,GAAiB,UAASR,IAAT,EAAe;AAC9B,MAAMS,SAAS,EAAf;AACAA,SAAOV,MAAP,GAAgBA,MAAhB;AACAU,SAAOV,MAAP,CAAcC,IAAd;AACA,SAAOS,MAAP;AACD,CALD","file":"ui-config.js","sourcesContent":["\"use strict\";\n\n/* eslint-disable no-invalid-this */\n\nfunction join(paths) {\n  const x = paths.filter(p => p).join(\"/\");\n\n  if (paths[0] === \"/\" && x === \"/\") {\n    // returning \"\" for [ \"/\", \"\", \"\", ... ]\n    return \"\";\n  }\n\n  return x.match(/^\\/+$/) // avoid returning \"\" for [ \"/\", \"/\", ... ]\n    ? \"/\"\n    : x.replace(/\\/+/g, \"/\").replace(/\\/$/, \"\"); // remove multiple /'s and trailing /\n}\n\nfunction reload(data) {\n  data = data || {};\n  const ui = data.ui || {};\n  const basePath = ui.basePath || \"\";\n  const apiPath = ui.apiPath || \"/api\";\n  this.ui = ui;\n  this.fullPath = path => join([basePath, path]);\n  this.fullApiPath = path => join([basePath, apiPath, path]);\n}\n\nmodule.exports = function(data) {\n  const config = {};\n  config.reload = reload;\n  config.reload(data);\n  return config;\n};\n"]}